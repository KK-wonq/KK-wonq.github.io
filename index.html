<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í¬íŠ¸í´ë¦¬ì˜¤ | ì´í˜œì› (Reimagined)</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark: #121212;
      --bg-surface: #1e1e1e;
      --bg-surface-hover: #2a2a2a;
      --primary: #00aaff;
      --primary-light: rgba(0, 170, 255, 0.1);
      --text-main: #e0e0e0;
      --text-secondary: #a0a0a0;
      --border-color: #333;
      --radius-m: 8px;
      --radius-l: 12px;
      --shadow-color: rgba(0, 0, 0, 0.5);
      --transition-speed: 0.3s;
    }

    /* --- Base & Typography --- */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      background-color: var(--bg-dark);
      color: var(--text-main);
      font-family: 'Noto Sans KR', sans-serif;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    h1, h2, h3 {
      font-family: 'Roboto', sans-serif;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    /* --- Splash Screen --- */
    #splash {
      position: fixed;
      inset: 0;
      background-color: var(--bg-dark);
      display: grid;
      place-items: center;
      z-index: 10000;
      transition: opacity 0.8s ease-out, visibility 0.8s;
    }

    #splash.fade-out {
      opacity: 0;
      visibility: hidden;
    }

    #splash h1 {
      font-size: clamp(2rem, 10vw, 4rem);
      color: var(--primary);
      animation: tracking-in-expand 1.2s cubic-bezier(0.215, 0.610, 0.355, 1.000) both;
    }

    @keyframes tracking-in-expand {
      0% { letter-spacing: -0.5em; opacity: 0; }
      40% { opacity: 0.6; }
      100% { opacity: 1; }
    }
    
    /* --- Layout & Header --- */
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 2rem 1.5rem;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1.5rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 2rem;
    }

    .profile {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .profile-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: linear-gradient(145deg, var(--primary), #0055ff);
      display: grid;
      place-items: center;
      font-size: 1.5rem;
      font-weight: 700;
      color: white;
      box-shadow: 0 4px 15px var(--shadow-color);
    }
    
    .profile-info h1 {
      font-size: 1.75rem;
      color: white;
    }

    .profile-info p {
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    /* --- Header Actions & Button (ì¶”ê°€) --- */
    .header-actions {
      display: flex;
      align-items: center;
    }
    
    .btn {
      display: inline-block;
      padding: 0.6rem 1.2rem;
      border: 1px solid var(--primary);
      border-radius: var(--radius-m);
      color: var(--primary);
      background-color: transparent;
      text-decoration: none;
      font-weight: 500;
      font-size: 0.9rem;
      transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
    }

    .btn:hover {
      background-color: var(--primary);
      color: var(--bg-dark);
    }


    /* --- Introduction --- */
    #intro {
      background-color: var(--bg-surface);
      border-radius: var(--radius-l);
      padding: 2rem;
      margin-bottom: 3rem;
      border: 1px solid var(--border-color);
    }
    #intro h2 { font-size: 1.5rem; margin-bottom: 1rem; color: var(--primary); }
    #intro p { white-space: pre-line; }

    /* --- Project Grid --- */
    .section-title {
      font-size: 2rem;
      margin-bottom: 1.5rem;
      text-align: center;
    }

    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .project-card {
      background-color: var(--bg-surface);
      border-radius: var(--radius-l);
      overflow: hidden;
      border: 1px solid var(--border-color);
      cursor: pointer;
      transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
      display: flex;
      flex-direction: column;
    }

    .project-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 10px 30px var(--shadow-color);
      border-color: var(--primary);
    }

    .project-card-thumbnail {
      width: 100%;
      height: 180px;
      object-fit: cover;
      display: block;
      background-color: #333;
    }

    .project-card-content {
      padding: 1.25rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .project-card-content p {
      font-size: 1.1rem;
      font-weight: 500;
      text-align: center;
      color: var(--text-main);
    }
    
    /* --- Project Detail Modal --- */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background-color: rgba(0, 0, 0, 0.85);
      backdrop-filter: blur(8px);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--transition-speed) ease, visibility var(--transition-speed) ease;
    }

    .modal-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background-color: var(--bg-surface);
      width: 90%;
      max-width: 1000px;
      max-height: 90vh;
      border-radius: var(--radius-l);
      overflow-y: auto;
      position: relative;
      padding: 2rem;
      border: 1px solid var(--border-color);
      transform: scale(0.95);
      transition: transform var(--transition-speed) ease;
    }

    .modal-overlay.active .modal-content {
      transform: scale(1);
    }

    .modal-close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      color: var(--text-secondary);
      font-size: 1.5rem;
      cursor: pointer;
      transition: color var(--transition-speed) ease, transform var(--transition-speed) ease;
    }
    
    .modal-close-btn:hover {
      color: white;
      transform: rotate(90deg);
    }

    #project-detail-title {
        font-size: 2.2rem;
        margin-bottom: 0.5rem;
        color: var(--primary);
    }
    #project-detail-description {
        font-size: 1rem;
        margin-bottom: 2rem;
        color: var(--text-secondary);
        max-width: 80ch;
    }

    .detail-images-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
    }

    .detail-image-item {
        border-radius: var(--radius-m);
        overflow: hidden;
        cursor: pointer;
    }
    .detail-image-item img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        display: block;
        transition: transform var(--transition-speed) ease;
    }
    .detail-image-item:hover img {
        transform: scale(1.05);
    }
    .detail-image-item p {
        background-color: rgba(0,0,0,0.5);
        padding: 0.5rem;
        font-size: 0.85rem;
        text-align: center;
    }

    /* --- Image Lightbox --- */
    #lightbox {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.9);
        z-index: 2000;
        display: grid;
        place-items: center;
        padding: 1rem;
        cursor: pointer;
        opacity: 0;
        visibility: hidden;
        transition: opacity var(--transition-speed) ease, visibility var(--transition-speed) ease;
    }
    #lightbox.active {
        opacity: 1;
        visibility: visible;
    }
    #lightbox img {
        max-width: 95%;
        max-height: 90vh;
        object-fit: contain;
        border-radius: var(--radius-m);
    }
  </style>
</head>
<body>

  <div id="splash">
    <h1>SECURITY</h1>
  </div>
  
  <div class="container">
    <header>
      <div class="profile">
        <div class="profile-avatar" aria-hidden="true">LH</div>
        <div class="profile-info">
          <h1>ì´í˜œì›</h1>
          <p>ë³´ì•ˆ ê´€ë ¨ í¬íŠ¸í´ë¦¬ì˜¤ â€” ë„¤íŠ¸ì›Œí¬ Â· ì„œë²„ Â· íƒì§€ ì‹œìŠ¤í…œ</p>
        </div>
      </div>
      <div class="header-actions">
        <a href="next.html" class="btn">ë‹¤ìŒ í˜ì´ì§€ â†’</a>
      </div>
    </header>

    <main>
      <section id="intro">
        <h2>ì•ˆë…•í•˜ì„¸ìš”! ğŸ‘‹</h2>
        <p>
          ì €ëŠ” ì´í˜œì›ì…ë‹ˆë‹¤.
          ì´ í˜ì´ì§€ëŠ” ì €ì˜ ë³´ì•ˆ ê¸°ìˆ  ì—­ëŸ‰ì„ ë‹´ì€ í¬íŠ¸í´ë¦¬ì˜¤ì…ë‹ˆë‹¤.
          ê°€ìƒ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ êµ¬ì¶•ë¶€í„° ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ(HIDS/NIDS), ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ êµ¬í˜„ ë“± ë‹¤ì–‘í•œ í”„ë¡œì íŠ¸ë¥¼ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
          ê° í”„ë¡œì íŠ¸ ì¹´ë“œë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸í•œ êµ¬ì¶• ê³¼ì •ê³¼ ê²°ê³¼ ì´ë¯¸ì§€ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
        </p>
      </section>

      <section id="project-list">
        <h2 class="section-title">PROJECTS</h2>
        <div class="projects-grid">
          <div class="project-card" data-project-id="gns3" tabindex="0">
            <img src="port_images/default_GNS3_Topol.PNG" alt="GNS3 ì¸ë„¤ì¼" class="project-card-thumbnail" loading="lazy">
            <div class="project-card-content"><p>GNS3 ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€</p></div>
          </div>

          <div class="project-card" data-project-id="hids" tabindex="0">
            <img src="port_images/OSSEC(HIDS)_ipaddr.PNG" alt="HIDS ì¸ë„¤ì¼" class="project-card-thumbnail" loading="lazy">
            <div class="project-card-content"><p>HIDS - OSSEC</p></div>
          </div>
          
          <div class="project-card" data-project-id="zabbix" tabindex="0">
            <img src="port_images/Rocky_Zabbix_server.PNG" alt="Zabbix ì¸ë„¤ì¼" class="project-card-thumbnail" loading="lazy">
            <div class="project-card-content"><p>Zabbix ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ</p></div>
          </div>

          <div class="project-card" data-project-id="pfsense" tabindex="0">
            <img src="port_images/pfsense_remote_Access.PNG" alt="pfsense ì¸ë„¤ì¼" class="project-card-thumbnail" loading="lazy">
            <div class="project-card-content"><p>pfsense ë°©í™”ë²½ ë° OpenVPN</p></div>
          </div>
          
          <div class="project-card" data-project-id="snort" tabindex="0">
            <img src="port_images/snort_rules_re_re.PNG" alt="Snort ì¸ë„¤ì¼" class="project-card-thumbnail" loading="lazy">
            <div class="project-card-content"><p>NIDS - Snort</p></div>
          </div>

          <div class="project-card" data-project-id="suricata" tabindex="0">
            <img src="port_images/suricata_rules_re_re.PNG" alt="Suricata ì¸ë„¤ì¼" class="project-card-thumbnail" loading="lazy">
            <div class="project-card-content"><p>NIDS - Suricata</p></div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <div class="modal-overlay" id="project-modal">
    <div class="modal-content">
      <button class="modal-close-btn" id="modal-close">âœ–</button>
      <h2 id="project-detail-title"></h2>
      <p id="project-detail-description"></p>
      <div class="detail-images-grid" id="project-detail-images">
        </div>
    </div>
  </div>

  <div id="lightbox">
    <img id="lightbox-image" src="" alt="í™•ëŒ€ ì´ë¯¸ì§€">
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {

      // --- Splash Screen Logic ---
      window.addEventListener("load", () => {
        const splash = document.getElementById("splash");
        setTimeout(() => {
          splash.classList.add("fade-out");
        }, 1500); // 1.5ì´ˆ í›„ í˜ì´ë“œì•„ì›ƒ
      });

      // --- Project Data ---
      const portfolioData = {
        gns3: {
          title: "GNS3 ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€",
          description: "GNS3ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ êµ¬ì¶•í•˜ê³ , ë°©í™”ë²½(ASAv) ë° ë¼ìš°í„°(HSRP) ì„¤ì •ì„ í†µí•´ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ ì œì–´í•˜ê³  ì´ì¤‘í™”ë¥¼ êµ¬ì„±í•œ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ê° ì¥ë¹„ ê°„ì˜ í†µì‹  ê·œì¹™ê³¼ ì ‘ê·¼ ì œì–´ë¥¼ í…ŒìŠ¤íŠ¸í–ˆìŠµë‹ˆë‹¤.",
          images: [
            { src: "port_images/default_GNS3_Topol.PNG", caption: "ê¸°ë³¸ GNS3 í† í´ë¡œì§€" },
            { src: "port_images/ASAv_rules.PNG", caption: "ASAv ë°©í™”ë²½ ì •ì±… ëª¨ìŒ" },
            { src: "port_images/FireFox3_to_inside_http.PNG", caption: "ë‚´ë¶€ë§(inside)ìœ¼ë¡œì˜ HTTP ì ‘ì† í—ˆìš©" },
            { src: "port_images/FireFox3_to_inside_telnet.PNG", caption: "ë‚´ë¶€ë§(inside)ìœ¼ë¡œì˜ Telnet ì ‘ì† í—ˆìš©" },
            { src: "port_images/webterm2_to_dmz_telnet.PNG", caption: "DMZ êµ¬ê°„ìœ¼ë¡œì˜ Telnet ì ‘ì†" },
            { src: "port_images/PC1_to_webterm1_ping.PNG", caption: "ì™¸ë¶€ë§(outside)ì—ì„œ DMZë¡œì˜ ICMP í†µì‹ " },
            { src: "port_images/webterm1_to_R1_http.PNG", caption: "Webterm1ì—ì„œ R1ìœ¼ë¡œì˜ HTTP ì ‘ì†" },
            { src: "port_images/Webterm1_to_R1_telnet.PNG", caption: "Webterm1ì—ì„œ R1ìœ¼ë¡œì˜ Telnet ì ‘ì†" },
            { src: "port_images/Webterm2_to_PC1_ping.PNG", caption: "Webterm2ì—ì„œ PC1ìœ¼ë¡œì˜ ICMP í†µì‹ " },
            { src: "port_images/R3_Standby.PNG", caption: "HSRP êµ¬ì¶• - R3 Standby ìƒíƒœ" },
            { src: "port_images/R4_Active.PNG", caption: "HSRP êµ¬ì¶• - R4 Active ìƒíƒœ" }
          ]
        },
        hids: {
          title: "HIDS - OSSEC",
          description: "í˜¸ìŠ¤íŠ¸ ê¸°ë°˜ ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ(HIDS)ì¸ OSSEC ì„œë²„ë¥¼ êµ¬ì¶•í•˜ê³ , Windows ë° Rocky Linux ì—ì´ì „íŠ¸ë¥¼ ì—°ë™í•˜ì—¬ ì‹œìŠ¤í…œ ë¡œê·¸, íŒŒì¼ ë¬´ê²°ì„± ë“±ì„ ì¤‘ì•™ì—ì„œ ëª¨ë‹ˆí„°ë§í•˜ëŠ” í™˜ê²½ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.",
          images: [
            { src: "port_images/ossec_server_ubuntu_linkagent.PNG", caption: "OSSEC ì„œë²„ì— Windows, Rocky ì—ì´ì „íŠ¸ ì—°ê²°" },
            { src: "port_images/Window10-Ossec.PNG", caption: "Windows 10 í´ë¼ì´ì–¸íŠ¸ì— ì„¤ì¹˜ëœ OSSEC ì—ì´ì „íŠ¸" }
          ]
        },
        zabbix: {
          title: "Zabbix ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ",
          description: "Rocky Linuxì— Zabbix ì„œë²„ë¥¼ ì„¤ì¹˜í•˜ì—¬ í†µí•© ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. Zabbix ì—ì´ì „íŠ¸ë¥¼ í†µí•´ Windows, Linux ë“± ë‹¤ì–‘í•œ ì‹œìŠ¤í…œì˜ CPU, ë©”ëª¨ë¦¬, ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ê³¼ ê°™ì€ ìì› í˜„í™©ì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì‹œí•©ë‹ˆë‹¤.",
          images: [
            { src: "port_images/Rocky_Zabbix_server.PNG", caption: "Rocky Linuxì— êµ¬ì¶•ëœ Zabbix ì„œë²„ ëŒ€ì‹œë³´ë“œ" },
            { src: "port_images/zabbix_link.PNG", caption: "Zabbix ì„œë²„ì— ì—°ê²°ëœ í˜¸ìŠ¤íŠ¸(ì—ì´ì „íŠ¸) ëª©ë¡" }
          ]
        },
        pfsense: {
          title: "pfsense ë°©í™”ë²½ ë° OpenVPN",
          description: "ì˜¤í”ˆì†ŒìŠ¤ ë°©í™”ë²½ ì†”ë£¨ì…˜ì¸ pfsenseë¥¼ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆì„ ê°•í™”í•˜ê³ , OpenVPN ì„œë²„ë¥¼ êµ¬ì¶•í•˜ì—¬ ì™¸ë¶€ì—ì„œë„ ì•ˆì „í•˜ê²Œ ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì— ì ‘ì†í•  ìˆ˜ ìˆëŠ” ì›ê²© ì ‘ê·¼(Remote Access) í™˜ê²½ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.",
          images: [
            { src: "port_images/pfsense_remote_Access.PNG", caption: "pfsenseë¥¼ ì´ìš©í•œ OpenVPN ì›ê²© ì ‘ì† êµ¬ì¶•" }
          ]
        },
        snort: {
          title: "NIDS - Snort",
          description: "ë„¤íŠ¸ì›Œí¬ ê¸°ë°˜ ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ(NIDS)ì¸ Snortë¥¼ ì„¤ì¹˜í•˜ê³ , ì‚¬ìš©ì ì •ì˜ íƒì§€ ê·œì¹™(Rule)ì„ ì‘ì„±í•˜ì—¬ ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ ê³µê²© íŠ¸ë˜í”½ì„ íƒì§€í•˜ëŠ” ì‹¤ìŠµì„ ì§„í–‰í–ˆìŠµë‹ˆë‹¤. HTTP, ICMP íŠ¸ë˜í”½ë¶€í„° DDoS, í¬íŠ¸ ìŠ¤ìºë‹ ê³µê²©ê¹Œì§€ íƒì§€ ê·œì¹™ì„ ì ìš©í–ˆìŠµë‹ˆë‹¤.",
          images: [
            { src: "port_images/snort_rules_re_re.PNG", caption: "Ubuntuì— êµ¬ì¶•í•œ Snort ë° ì‚¬ìš©ì ì •ì˜ ê·œì¹™" },
            { src: "port_images/snortRule_1.PNG", caption: "ê·œì¹™ 1: HTTP, ICMP íŠ¸ë˜í”½ íƒì§€" },
            { src: "port_images/snortRule_2.PNG", caption: "ê·œì¹™ 2: ICMP(Ping) íŠ¸ë˜í”½ íƒì§€" },
            { src: "port_images/SnortRule_4.PNG", caption: "ê·œì¹™ 3: DDoS ê³µê²© íƒì§€" },
            { src: "port_images/SnortRule_5_Kali.PNG", caption: "ê·œì¹™ 4: SYN í¬íŠ¸ ìŠ¤ìºë‹ íƒì§€" },
            { src: "port_images/snort_rule4.PNG", caption: "ê·œì¹™ 5: URL ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œë„ íƒì§€" }
          ]
        },
        suricata: {
          title: "NIDS - Suricata",
          description: "ê³ ì„±ëŠ¥ ë„¤íŠ¸ì›Œí¬ ì¹¨ì… íƒì§€ ì‹œìŠ¤í…œ(NIDS)ì¸ Suricataë¥¼ êµ¬ì¶•í•˜ê³ , Snortì™€ ìœ ì‚¬í•œ ë¬¸ë²•ì˜ ê·œì¹™ì„ ì‘ì„±í•˜ì—¬ ì‹¤ì‹œê°„ìœ¼ë¡œ ì•…ì„± íŠ¸ë˜í”½ì„ íƒì§€í•˜ê³  ë¶„ì„í•˜ëŠ” í™˜ê²½ì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ë©€í‹°ìŠ¤ë ˆë”©ì„ ì§€ì›í•˜ì—¬ ëŒ€ìš©ëŸ‰ íŠ¸ë˜í”½ ì²˜ë¦¬ì— ê°•ì ì´ ìˆìŠµë‹ˆë‹¤.",
          images: [
            { src: "port_images/suricata_rules_re_re.PNG", caption: "Rocky Linuxì— êµ¬ì¶•í•œ Suricata ë° ì‚¬ìš©ì ì •ì˜ ê·œì¹™" },
            { src: "port_images/suricataRule_1.PNG", caption: "ê·œì¹™ 1: HTTP, ICMP íŠ¸ë˜í”½ íƒì§€" },
            { src: "port_images/SuricataRules_5.PNG", caption: "ê·œì¹™ 2: SYN Flag ìŠ¤ìºë‹ íƒì§€" },
            { src: "port_images/suricata_rule4.PNG", caption: "ê·œì¹™ 3: URL ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œë„ íƒì§€" }
          ]
        }
      };
      
      // --- Modal Elements ---
      const modal = document.getElementById('project-modal');
      const modalCloseBtn = document.getElementById('modal-close');
      const modalTitle = document.getElementById('project-detail-title');
      const modalDescription = document.getElementById('project-detail-description');
      const modalImagesGrid = document.getElementById('project-detail-images');
      
      // --- Lightbox Elements ---
      const lightbox = document.getElementById('lightbox');
      const lightboxImage = document.getElementById('lightbox-image');

      // --- Functions ---
      function openModal(projectId) {
        const project = portfolioData[projectId];
        if (!project) return;

        modalTitle.textContent = project.title;
        modalDescription.textContent = project.description;
        modalImagesGrid.innerHTML = ''; // Clear previous images

        project.images.forEach(image => {
          const item = document.createElement('div');
          item.className = 'detail-image-item';
          item.innerHTML = `
            <img src="${image.src}" alt="${image.caption}" loading="lazy">
            <p>${image.caption}</p>
          `;
          item.addEventListener('click', () => openLightbox(image.src));
          modalImagesGrid.appendChild(item);
        });

        modal.classList.add('active');
        document.body.style.overflow = 'hidden'; // Prevent background scrolling
      }

      function closeModal() {
        modal.classList.remove('active');
        document.body.style.overflow = '';
      }

      function openLightbox(src) {
        lightboxImage.src = src;
        lightbox.classList.add('active');
      }

      function closeLightbox() {
        lightbox.classList.remove('active');
      }

      // --- Event Listeners ---
      document.querySelectorAll('.project-card').forEach(card => {
        const projectId = card.dataset.projectId;
        card.addEventListener('click', () => openModal(projectId));
        card.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') openModal(projectId);
        });
      });

      modalCloseBtn.addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal(); // Close only if overlay is clicked
      });

      lightbox.addEventListener('click', closeLightbox);
      
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
          if (lightbox.classList.contains('active')) {
            closeLightbox();
          } else if (modal.classList.contains('active')) {
            closeModal();
          }
        }
      });

    });
  </script>
</body>
</html>
